# 此文件为 application-dev.yml 配置示例文件，去掉 .examples 以生效

server:
    port: 8081
multiple:
    environment:
        configure: dev environment

# 系统配置
setting:
    timeout: 0 # 配置缓存时长（分钟）

# Spring
spring:
    mvc:
        converters:
            preferred-json-mapper: gson # 返回 JSON 序列化使用 GSON
    datasource: # 数据库配置
        url: jdbc:mysql://localhost:3306/blog_test?serverTimezone=UTC&characterEncoding=UTF-8
        username: root
        password: 123456
        driver-class-name: com.mysql.cj.jdbc.Driver
        hikari: # 连接池
            maximum-pool-size: 60     # 连接池最大连接数，默认是 10
            connection-timeout: 60000 # 链接超时时间，默认 30000(30 秒)
            idle-timeout: 60000       # 空闲连接存活最大时间，默认 600000(10 分钟)
            validation-timeout: 3000  # 连接将被测试活动的最大时间量
            max-lifetime: 60000       # 此属性控制池中连接的最长生命周期，值 0 表示无限生命周期，默认 1800000(30 分钟)
            login-timeout: 5          # 连接到数据库时等待的最长时间(秒)
            minimum-idle: 10          # 池中维护的最小空闲连接数
    redis:      # Redis 数据库
        host: localhost
        port: 6379
        password:
        timeout: 8000
        database:
            article-ranking: 0 # 热门文章缓存，文章 ID: ArticleRanking 对象
            article-read: 1    # IP 阅读记录缓存，IP: [文章ID]
            user-token: 2      # 用户令牌缓存，UID: 令牌
            access-limit: 3    # 接口访问频率控制，IP#方法: 上一次访问时间戳
            setting: 4         # 系统配置，Setting 枚举: String 配置值
        lettuce: # 连接池配置
            pool:
                max-wait: -1
                max-idle: 8
                min-idle: 0
                max-active: 8
# MyBatis
mybatis:
    mapper-locations: classpath:mapper/*.xml          # XML 位置
    type-aliases-package: net.imyeyu.blogapi.entity   # 实体类位置
    type-handlers-package: net.imyeyu.blogapi.handler # 类型处理器位置
    configuration:
        map-underscore-to-camel-case: true            # 映射驼峰转下划线

# CORS 跨域
cors:
    # 允许访问的客户端域名，如：http://web.xxx.com，多个域名逗号分割，* 表示不做任何限制（不做任何限制时 allow-credentials 无效）
    allow-origin: 'http://localhost:8080'
    allow-methods: '*'      # 允许请求的方法名，多个方法名逗号分割，如：GET, POST, PUT, DELETE, OPTIONS。
    allow-credentials: true # 是否允许请求带有验证信息，若要获取客户端域下的 Cookie 时，设置为 true。
    allow-headers: '*'      # 允许服务端访问的客户端请求头，多个请求头逗号分割，如：Content-Type。

# 盐值
slat:
    # 用户
    user:
        token: tokenSlat
        password: passwordSlat # 上线后不应再修改